<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Shop - Sanskriti Jewelry</title>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="author" content="templatesjungle" />
    <meta name="keywords" content="jewelry" />
    <meta name="description" content="Indian Jewelry Store" />

    <!-- Third-party CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ"
      crossorigin="anonymous"
    />

    <!-- Custom CSS -->
    <link rel="stylesheet" type="text/css" href="css/vendor.css" />
    <link rel="stylesheet" type="text/css" href="icomoon/icomoon.css" />
    <link rel="stylesheet" type="text/css" href="style.css" />
    <link rel="stylesheet" type="text/css" href="css/common.css" />

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Jost:ital,wght@0,100..900;1,100..900&family=Marcellus&display=swap"
      rel="stylesheet"
    />
  </head>

  <body>
    <!-- Original preloader -->
    <div id="preloader">
      <div id="loader"></div>
    </div>

    <div id="header"></div>

    <main class="container mt-5 pt-5">
      <div class="row">
        <div class="col-12">
          <h1 id="category-title">Shop</h1>
          <p id="category-description" class="lead">
            Browse our selection of fine jewelry.
          </p>
        </div>
      </div>

      <div class="row mb-4 align-items-center">
        <div class="col-md-6 mb-2 mb-md-0">
          <div class="input-group">
            <input
              type="text"
              id="searchInput"
              class="form-control"
              placeholder="Search by name"
            />
            <span class="input-group-text"><i class="fa fa-search"></i></span>
          </div>
        </div>
        <div class="col-md-6 text-md-end">
          <select id="sortSelect" class="form-select w-auto d-inline-block">
            <option value="default">Sort by</option>
            <option value="name-asc">Name (A-Z)</option>
            <option value="name-desc">Name (Z-A)</option>
            <option value="price-asc">Price (Low to High)</option>
            <option value="price-desc">Price (High to Low)</option>
          </select>
        </div>
      </div>

      <div class="row">
        <div class="col-md-3">
          <!-- Filters -->
          <div class="card mb-4">
            <div class="card-header">
              <h5>Categories</h5>
            </div>
            <div class="card-body">
              <ul class="list-unstyled" id="category-list">
                <li>
                  <a
                    href="shop.html?category=necklaces"
                    class="text-decoration-none"
                    >Necklaces</a
                  >
                </li>
                <li>
                  <a
                    href="shop.html?category=earrings"
                    class="text-decoration-none"
                    >Earrings</a
                  >
                </li>
                <li>
                  <a
                    href="shop.html?category=bracelets"
                    class="text-decoration-none"
                    >Bracelets</a
                  >
                </li>
                <li>
                  <a
                    href="shop.html?category=rings"
                    class="text-decoration-none"
                    >Rings</a
                  >
                </li>
                <li>
                  <a
                    href="shop.html?category=anklets"
                    class="text-decoration-none"
                    >Anklets</a
                  >
                </li>
              </ul>
            </div>
          </div>

          <!-- Price Filter -->
          <div class="card mb-4">
            <div class="card-header">
              <h5>Price Range</h5>
            </div>
            <div class="card-body">
              <div class="form-check">
                <input
                  class="form-check-input"
                  type="checkbox"
                  value=""
                  id="price1"
                />
                <label class="form-check-label" for="price1">
                  Under $100
                </label>
              </div>
              <div class="form-check">
                <input
                  class="form-check-input"
                  type="checkbox"
                  value=""
                  id="price2"
                />
                <label class="form-check-label" for="price2">
                  $100 - $300
                </label>
              </div>
              <div class="form-check">
                <input
                  class="form-check-input"
                  type="checkbox"
                  value=""
                  id="price3"
                />
                <label class="form-check-label" for="price3">
                  $300 - $500
                </label>
              </div>
              <div class="form-check">
                <input
                  class="form-check-input"
                  type="checkbox"
                  value=""
                  id="price4"
                />
                <label class="form-check-label" for="price4"> $500+ </label>
              </div>
            </div>
          </div>
        </div>

        <div class="col-md-9">
          <!-- Products -->
          <div class="row" id="product-list">
            <!-- Products will be loaded here dynamically -->
          </div>
        </div>
      </div>
    </main>

    <div id="footer"></div>

    <!-- Scripts -->
    <script src="js/jquery-1.11.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
      crossorigin="anonymous"
    ></script>
    <script src="js/plugins.js"></script>
    <script src="js/script.js"></script>
    <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>

    <script>
      $(document).ready(function () {
        $("#header").load("components/header.html", function () {
          // Highlight the Shop nav item
          $(".nav-item a[href^='shop.html']").addClass("active");
        });
        $("#footer").load("components/footer.html");

        // Get category from URL parameter
        const urlParams = new URLSearchParams(window.location.search);
        const category = urlParams.get("category");

        // Update page title and description based on category
        if (category) {
          updateCategoryInfo(category);
          loadCategoryProducts(category);
          highlightSelectedCategory(category);
        } else {
          // Load all products if no category is specified
          loadCategoryProducts("all");
        }
      });

      // Add preloader fade out
      $(window).on("load", function () {
        $("#preloader").fadeOut("slow");
      });

      // Filter products by category if specified
      let filteredProducts = products;
      if (category !== "all") {
        filteredProducts = products.filter(
          (product) => product.category === category
        );
      }

      let productsHTML = "";

      if (filteredProducts.length === 0) {
        productsHTML = `
            <div class="col-12 text-center">
              <p>No products found in this category. Please check back later.</p>
            </div>
          `;
      } else {
        filteredProducts.forEach((product) => {
          productsHTML += `
              <div class="col-md-4 mb-4">
                <div class="card">
                  <img src="${product.image}" class="card-img-top" alt="${product.name}">
                  <div class="card-body text-center">
                    <h5 class="card-title">${product.name}</h5>
                    <p class="card-text">${product.price}</p>
                    <a href="single-product.html" class="btn btn-outline-dark">View Details</a>
                  </div>
                </div>
              </div>
            `;
        });
      }

      $("#product-list").html(productsHTML);
    </script>

    <script>
      const products = [
        {
          name: "Colorful Stylish ",
          image: "images/product1.jpg",
          price: "$123.00",
          oldPrice: "$123.00",
        },
        {
          name: "Colorful Stylish ",
          image: "images/product2.jpg",
          price: "$123.00",
          oldPrice: "$123.00",
        },
        {
          name: "Colorful Stylish ",
          image: "images/product3.jpg",
          price: "$123.00",
          oldPrice: "$123.00",
        },
        {
          name: "Colorful Stylish ",
          image: "images/product4.jpg",
          price: "$123.00",
          oldPrice: "$123.00",
        },
        {
          name: "Colorful Stylish ",
          image: "images/product5.jpg",
          price: "$123.00",
          oldPrice: "$123.00",
        },
        {
          name: "Colorful Stylish ",
          image: "images/product6.jpg",
          price: "$123.00",
          oldPrice: "$123.00",
        },
        // Add more products as needed
      ];

      function renderProducts(productArray) {
        let html = "";
        productArray.forEach((product) => {
          html += `
            <div class="col-md-4 mb-4">
              <div class="card h-100 text-center">
                <img src="${product.image}" class="card-img-top" alt="${product.name}">
                <div class="card-body">
                  <h5 class="card-title">${product.name}</h5>
                  <div>
                    <span class="fw-bold">${product.price}</span>
                    <span class="text-muted text-decoration-line-through ms-2">${product.oldPrice}</span>
                  </div>
                </div>
                <div class="card-footer d-flex justify-content-between">
                  <a href="#" class="text-decoration-none text-dark"><i class="fa fa-eye me-1"></i>View Detail</a>
                  <a href="#" class="text-decoration-none text-dark"><i class="fa fa-shopping-cart me-1"></i>Add To Cart</a>
                </div>
              </div>
            </div>
          `;
        });
        document.getElementById("product-list").innerHTML = html;
      }

      // Initial render
      renderProducts(products);

      // Search functionality
      document
        .getElementById("searchInput")
        .addEventListener("input", function () {
          const search = this.value.toLowerCase();
          const filtered = products.filter((p) =>
            p.name.toLowerCase().includes(search)
          );
          renderProducts(filtered);
        });

      // Sort functionality
      document
        .getElementById("sortSelect")
        .addEventListener("change", function () {
          let sorted = [...products];
          const val = this.value;
          if (val === "name-asc")
            sorted.sort((a, b) => a.name.localeCompare(b.name));
          if (val === "name-desc")
            sorted.sort((a, b) => b.name.localeCompare(a.name));
          if (val === "price-asc")
            sorted.sort(
              (a, b) =>
                parseFloat(a.price.replace(/[^0-9.]/g, "")) -
                parseFloat(b.price.replace(/[^0-9.]/g, ""))
            );
          if (val === "price-desc")
            sorted.sort(
              (a, b) =>
                parseFloat(b.price.replace(/[^0-9.]/g, "")) -
                parseFloat(a.price.replace(/[^0-9.]/g, ""))
            );
          renderProducts(sorted);
        });
    </script>
  </body>
</html>
